<table class="budget-table">

  <!-- Table Header -->
  <thead>
    <tr>
      <th (click)="sortData('name')">Budget Name</th>
      <th (click)="sortData('status')">Status</th>
      <th (click)="sortData('startYear')">Start Year</th>
      <th (click)="sortData('duration')">Duration (Years)</th>
      <th>Actions</th>
    </tr>
  </thead>

  <!-- Table Body -->
  <tbody>
    <tr *ngFor="let row of sortedBudgets()">
      <td>
        {{ row.name || '-' }}
        <span *ngIf="row.childrenList?.length > 0" class="badge primary"
              (click)="openChildBudgetDialog(row)">
          Linked Budgets ({{ row.childrenList.length }})
        </span>
      </td>
      <td>
        <span class="badge" [class.active]="row.status === 1" [class.draft]="row.status !== 1">
          {{ translateStatus(row.status) | transloco }}
        </span>
      </td>
      <td>{{ row.startYear || '-' }}</td>
      <td>{{ row.duration || '-' }}</td>
      <td>
        <div class="budget-btn-container">
          <button (click)="openCloneBudgetDialog(row)" *ngIf="access('clone')">Clone</button>
          <button (click)="goToDetail(row.id!, 'view')" *ngIf="access('view')">View</button>
          <button (click)="goToDetail(row.id!, 'edit')" *ngIf="access('edit')">Edit</button>
          <button (click)="openShareBudgetDialog(row)">Delete</button>
        </div>
      </td>
    </tr>
  </tbody>
</table>
